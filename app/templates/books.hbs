<h2>КНИГИ</h2>
<div class="container">
	<div class="row">
		<div class="col-sm-2">
			<PowerSelect @options={{this.tags}} @selected={{this.tag}} value={{this.tag}} @onChange={{this.handleTagChange}} as |name|>
				{{name}}
			</PowerSelect>

			<LinkTo @route="books.create">
				<button type="button" class="btn btn-primary w-100 mt-3">
					Создать
				</button>
			</LinkTo>
		</div>

		<div class="col-sm">
			{{input type="text" class="form-control mb-3" placeholder="Search by Author Name" value=search}}

			{{#if this.isLoading}}
			<Spinner />
			{{else}}
			<table class="table">
				<thead class="thead-dark">
					<tr>
						<th scope="col">#</th>
						<th scope="col">Название</th>
						<th scope="col">Автор</th>
						<th scope="col">Теги</th>
						<th scope="col">Кол-во страниц</th>
						<th scope="col">Рейтинг</th>
						<th scope="col">Действия</th>
					</tr>
				</thead>
				<tbody>
					{{#each this.model as |book|}}
					<tr>
						<th scope="row">{{book.id}}</th>
						<td>{{book.title}}</td>
						<td>{{book.author.fullName}}</td>
						<td>{{book.tags}}</td>
						<td>{{book.pages}}</td>
						<td>{{book.raiting}}</td>
						<td>
							<LinkTo @route="books.edit" @model={{book.id}}>
								<button type="button" class="btn btn-primary w-100">
									редактировать
								</button>
							</LinkTo>
							
							<button type="button" class="btn btn-danger w-100 mt-3" {{on "click" (fn this.handleDeleteBook book.id) }}>
								удалить
							</button>
						</td>
					</tr>
					{{/each}}
				</tbody>
			</table>
			{{/if}}
		</div>
	</div>
</div>
{{outlet}}